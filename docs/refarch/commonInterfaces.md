# Switch Interfaces

## Overview
The following table contains a list of all the Mojaloop Switch Interfaces offered for use by 3rd party applications. The table has been divided into a matrix of rows and columns, where the rows are used for the Interfaces, and the columns for the Client/Consumer Bounded Contexts (BCs).  The Interfaces have been grouped by Publisher/Provider BC. In several instances, the Interfaces offered by the Switch are being utilized by several Client/Consumer BCs. In instances where this has occurred, the BC is identified by an "x" in the corresponding column.

## Interface Table

| Source / publisher - Interface                       |             |                                     |                                                                                                                                                                                                 | Client / consumer - Bounded Contexts |||                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| :------------------------------------------------------ | :-------------: | :------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------: | :------------------------: | :-------------------------------------: | :--------------: | :------------------------: | :----------------: | :-------------------: | :------------------------: | :------------------------------: | :---------------------------: | :---------------: | :-----------: | :---------------------: | :---------------------: | :------------------------: | :----------------------: | :----------------------: |
| **Event name OR endpoint**                               | **Comms Style** | **Publisher/Provider BC**               | **Description**                                                                                                                                                                                     | **FSP Interop API BC**                   | **Admin/Operation API BC** | **Participant Lifecycle Management BC** | **Transfers BC** | **Accounts & Balances BC** | **Settlements BC** | **Account Lookup BC** | **Agreements / Quotes BC** | **3rd Party Initiated Payments** | **Notifications & Alerts BC** | **Scheduling BC** | **Auding BC** | **Security - authZ BC** | **Security - authN BC** | **Security - auditing BC** | **Security - loging BC** | **Security - crypto BC** |
| /random-number-gen                                   | Event       | Security BC - crypto                | random number generator. Can be used to generate (1) id (2) secret and (3) FIDO challenge                                                                                                       | x                                    | x                      |                                     |              |                        |                |                   |                        |                              |                           |               |           | x                   | x                   |                        |                      | x                    |
| /hash-gen                                            | HTTP/Rest   | Security BC - crypto                | Hash generation. Can be used to hash random numbers and user info. Hash is used for basic authentication and signature verification.                                                            | x                                    | x                      |                                     |              |                        |                |                   |                        |                              |                           |               |           | x                   | x                   |                        |                      | x                    |
| /signature-gen<br/>                                  | HTTP/Rest   | Security BC - crypto                | generate signature. used to sign audit records for immutability.                                                                                                                                |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               | x         | x                   | x                   | x                      | x                    |                      |
| /signature-ver                                       | HTTP/Rest   | Security BC - crypto                | verify siganture. used for FIDO authentication and authorization. This is also used to validate audit record on retrieval.                                                                      | x                                    | x                      |                                     |              |                        |                |                   |                        |                              |                           |               | x         | x                   | x                   | x                      | x                    |                      |
| /encrypt                                             | HTTP/Rest   | Security BC - crypto                | generic encryption                                                                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               | x         |                     |                     | x                      | x                    | x                    |
| /decrypt                                             | HTTP/Rest   | Security BC - crypto                | generic decryption                                                                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               | x         |                     |                     | x                      | x                    | x                    |
| /pin-translation                                     | HTTP/Rest   | Security BC - crypto                | translate banking PIN block from one encryption zone to another. Can be used for Interbank ATM or POS transaction.                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
| /fido-register                                       | HTTP/Rest   | Security BC - crypto                | Composite Crypto function. stores authenticator ECC public key alongside user infor.                                                                                                            | x                                    | x                      |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| /fido-authenticate                                   | HTTP/Rest   | Security BC - crypto                | authenticate FIDO signature                                                                                                                                                                     | x                                    | x                      |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| /fido-authorize                                      | HTTP/Rest   | Security BC - crypto                | authorize FIDO transaction after gesture (pressed button, finger print, etc)                                                                                                                    | x                                    | x                      |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| /kms-key-definition                                  | HTTP/Rest   | Security BC - crypto                | cryptographic key definition (key usage, duration, label)                                                                                                                                       |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
| /kms-aes-key-gen                                     | HTTP/Rest   | Security BC - crypto                | Cryptographic key generation for symetric encryption                                                                                                                                            |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
| /kms-ecc-key-gen                                     | HTTP/Rest   | Security BC - crypto                | Cryptogrphic key generation for Eliptic Curve key pair generation.                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
| /crypto-adapter-set                                  | HTTP/Rest   | Security BC - crypto                | Cryptographic Provider/adapter set (AWS, AZURE, on-prem HSM, software local libraries ... etc)                                                                                                  |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
| /iam-token-verifty                                   | HTTP/Rest   | Security BC - crypto                | basic authentication token verification. Composite call to AIM adapter.                                                                                                                         | x                                    | x                      |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
| /kms-pem-gen                                         | HTTP/Rest   | Security BC - crypto                | PKI keys for client authention and CLI functions.                                                                                                                                               | x                                    | x                      |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
| /ssl-terminate                                       | HTTP/Rest   | Security BC - crypto                | SLL termination                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
| /kms-load-key                                        | HTTP/Rest   | Security BC - crypto                | load cryptographic keys in key store                                                                                                                                                            |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      | x                    |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| NotifyReport                                         | Event       | Notifications & Alerts BC           | Notification Report event containing a report of the notification, indicating if it was successful (with an applicable response from the destination) or failed with an applicable error/reason |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| CreateScheduleReminder                               | gRPC        | Scheduling BC                       | Create a schedule reminder with the necessary information to create a event or api callback once the reminder has elapsed                                                                       |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| DeleteScheduleReminder                               | gRPC        | Scheduling BC                       | Event indicating that a timeout has occured for a scheduled reminder                                                                                                                            |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareAccountsAllocated                     | Event       | Settlements BC                      | Transfer Prepare request event with enriched information containing the applicable accounts for liquidity validation/allocation for each participant                                            |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| GetParticipantsTransfersData                         | gRPC        | Participant Lifecycle Management BC | Query Service to attain Participant information for Transfer purposes (i.e. validations, etc)                                                                                                   |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| GetParticipantCallbackInfo                           | gRPC        | Participant Lifecycle Management BC | API to query Participant information for Callbacks. Example of the FSPIOP Interop APIs BC using this to query the necessary information required for it to produce a NotifyRequested event.     | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| GetParticipantQuoteData                              | gRPC        | Participant Lifecycle Management BC | Query Service to attain Participant information for Quote purposes (i.e. validations, etc)                                                                                                      |                                      |                        |                                     |              | x                      |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| ProcessTransferPrepare                               | gRPC        | Accounts & Balances BC              | Process Transfer Prepare request for debiting the Payer liquidity, and crediting the Payer position via reservation of funds                                                                    |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| ProcessTransferFulfil                                | gRPC        | Accounts & Balances BC              | Process Transfer Fulfil request for debiting the Payer reserved funds, and crediting the Payee liquidity                                                                                        |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| NotifyRequested                                      | Event       | FSP Interop API BC                  | Notification Request event containing the FSPIOP forwarding request or callback that will be send to a specific participant                                                                     |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareRequested                             | Event       | FSP Interop API BC                  | Transfer Prepare request event                                                                                                                                                                  |                                      |                        |                                     |              |                        | x              |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareCallbackReport                        | Event       | FSP Interop API BC                  | Transfer Prepare Callback report for the Payee participant                                                                                                                                      |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferFulfilCommittedRequested                     | Event       | FSP Interop API BC                  | Transfer Fulfilment request event indicating that a "commit" was processed by the Payee participant                                                                                             |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferFulfilCommittedCallbackReport                | Event       | FSP Interop API BC                  | Transfer Fulfil Callback report for the Payer/Payee participant                                                                                                                                 |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferQueryReceived                                | Event       | FSP Interop API BC                  | Event indicating containing information for a Transfer Query                                                                                                                                    |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferQueryResponseCallbackReport                  | Event       | FSP Interop API BC                  | Event containing callback response report for a Transfer Query Response callback a Participant participant                                                                                      |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferRejectRequested                              | Event       | FSP Interop API BC                  | Event for a Transfer Reject from a Payee participant                                                                                                                                            |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferRejectRequestProcessedCallbackReport         | Event       | FSP Interop API BC                  | Event containing callback response report for a Transfer Reject Response callback to a Payer participant                                                                                        |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareRequestTimedoutCallbackReport         | Event       | FSP Interop API BC                  | Event containing callback response report for a Transfer Timeout Response callback to a Payer participant                                                                                       |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferFulfilCommitRequestTimedoutCallbackReport    | Event       | FSP Interop API BC                  | Event containing callback response report for a Transfer Timeout Response callback to a Payer/Payee participants                                                                                |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareDuplicateCheckFailedCallbackReport    | Event       | FSP Interop API BC                  | Event containing callback response report for a Transfer Prepare Duplicate Check Failed Response callback to a Payer/Payee participants                                                         |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareLiquidityCheckFailedCallbackReport    | Event       | FSP Interop API BC                  | Event containing callback response report for a Transfer Prepare Liquidity Check Failed Response callback to a Payer/Payee participants                                                         |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareInvalidPayerCheckFailedCallbackReport | Event       | FSP Interop API BC                  | Event containing callback response report for a Transfer Payer Participant Check Failed Response callback to a Payer/Payee participants                                                         |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareInvalidPayeeCheckFailedCallbackReport | Event       | FSP Interop API BC                  | Event containing callback response report for a Transfer Payee Participant Check Failed Response callback to a Payer/Payee participants                                                         |                                      |                        |                                     | x            |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| QuoteRequestReceived                                 | Event       | FSP Interop API BC                  | Event containing a Quote Request from a Payer participant                                                                                                                                       |                                      |                        |                                     |              |                        |                |                   | x                      |                              |                           |               |           |                     |                     |                        |                      |                      |
| QuoteReceivedCallbackReport                          | Event       | FSP Interop API BC                  | Event containing callback response report for a Quote Request to a Payee participants                                                                                                           |                                      |                        |                                     |              |                        |                |                   | x                      |                              |                           |               |           |                     |                     |                        |                      |                      |
| QuoteResponseReceived                                | Event       | FSP Interop API BC                  | Event containing a Quote Request Response from a Payee participant                                                                                                                              |                                      |                        |                                     |              |                        |                |                   | x                      |                              |                           |               |           |                     |                     |                        |                      |                      |
| QuoteAcceptedCallbackReport                          | Event       | FSP Interop API BC                  | Event containing callback response report for a Quote Respose to a Payer participants                                                                                                           |                                      |                        |                                     |              |                        |                |                   | x                      |                              |                           |               |           |                     |                     |                        |                      |                      |
| InvalidQuoteRequestCallbackReport                    | Event       | FSP Interop API BC                  | Event containing callback response report for a Invalid Quote Request to a Payer participants                                                                                                   |                                      |                        |                                     |              |                        |                |                   | x                      |                              |                           |               |           |                     |                     |                        |                      |                      |
| InvalidFSPInQuoteRequestCallbackReport               | Event       | FSP Interop API BC                  | Event containing callback response report for a Invalid FSP in Quote Request to a Payer participants                                                                                            |                                      |                        |                                     |              |                        |                |                   | x                      |                              |                           |               |           |                     |                     |                        |                      |                      |
| RuleViolatedInQuoteRequestCallbackReport             | Event       | FSP Interop API BC                  | Event containing callback response report for a Rule Violated in Quote Request to a Payer participants                                                                                          |                                      |                        |                                     |              |                        |                |                   | x                      |                              |                           |               |           |                     |                     |                        |                      |                      |
| RuleViolatedInQuoteResponseCallbackReport            | Event       | FSP Interop API BC                  | Event containing callback response report for a Rule Violated in Quote Response to a Payer participants                                                                                         |                                      |                        |                                     |              |                        |                |                   | x                      |                              |                           |               |           |                     |                     |                        |                      |                      |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| PLACE HOLDER FOR ACCOUNT LOOKUP BC                   |             | Account Lookup BC                   | PLACE HOLDER FOR ACCOUNT LOOKUP BC                                                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| PLACE HOLDER FOR ACCOUNT LOOKUP BC                   |             | Account Lookup BC                   | PLACE HOLDER FOR ACCOUNT LOOKUP BC                                                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| PLACE HOLDER FOR ACCOUNT LOOKUP BC                   |             | Account Lookup BC                   | PLACE HOLDER FOR ACCOUNT LOOKUP BC                                                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| PLACE HOLDER FOR ACCOUNT LOOKUP BC                   |             | Account Lookup BC                   | PLACE HOLDER FOR ACCOUNT LOOKUP BC                                                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| PLACE HOLDER FOR ACCOUNT LOOKUP BC                   |             | Account Lookup BC                   | PLACE HOLDER FOR ACCOUNT LOOKUP BC                                                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| PLACE HOLDER FOR ACCOUNT LOOKUP BC                   |             | Account Lookup BC                   | PLACE HOLDER FOR ACCOUNT LOOKUP BC                                                                                                                                                              |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| QuoteRequestAccepted                                 | Event       | Agreements/Quotes BC                | Event for a Quote Request being processed by the Transfers BC                                                                                                                                   | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| QuoteResponseAccepted                                | Event       | Agreements/Quotes BC                | Event for a Quote Response being processed by the Transfers BC                                                                                                                                  | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| InvalidQuoteRequest                                  | Event       | Agreements/Quotes BC                | Event representing a quote validation failure as a result of processing a QuoteReuestReceived event.                                                                                            | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| InvalidFSPInQuoteRequest                             | Event       | Agreements/Quotes BC                | Event representing an invalid FSP in Quote Request failure as a result of processing a QuoteReuestReceived event.                                                                               | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| RuleViolatedInQuoteRequest                           | Event       | Agreements/Quotes BC                | Event representing an Rule Violated in Quote Request failure as a result of processing a QuoteReuestReceived event.                                                                             | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| RuleViolatedInQuoteResponse                          | Event       | Agreements/Quotes BC                | Event representing an Rule Violated in Quote Response failure as a result of processing a QuoteReuestReceived event.                                                                            | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
|                                                      |             |                                     |                                                                                                                                                                                                 |                                      |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepared                                     | Event       | Transfers BC                        | Transfer Prepared event indicating the final outcome of the Transfer Prepare stage of a transfer has been processed by the Transfers BC                                                         | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferCommittedFulfiled                            | Event       | Transfers BC                        | Transfer Committed event indicating the final outcome of the Transfer Commited stage of a transfer has been processed by the Transfers BC                                                       | x                                    |                        | x                                   |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferQueryResponse                                | Event       | Transfers BC                        | Event containing response as a result of a TransferQueryReceived event                                                                                                                          | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferRejectRequestProcessed                       | Event       | Transfers BC                        | Event confirming that a Transfer Reject request was processed by the Transfers BC                                                                                                               | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareRequestTimedout                       | Event       | Transfers BC                        | Event for a Transfer Timeout when a transfer was still being prepared.                                                                                                                          | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferFulfilComitRequestTimedout                   | Event       | Transfers BC                        | Event for a Transfer Timeout when a transfer was in a final prepared state (i.e. waiting for a fulfilment, or rejection to be reveived).                                                        | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareDuplicateCheckFailed                  | Event       | Transfers BC                        | Event representing a failed duplicate check validation failure as a result of processing a TransferPrepareAccountAllocated event.                                                               | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareLiquidityCheckFailed                  | Event       | Transfers BC                        | Event representing a failed liquidity check validation failure as a result of processing a TransferPrepareAccountAllocated event.                                                               | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareInvalidPayerCheckFailed               | Event       | Transfers BC                        | Event representing a failed Payer Participant check validation failure as a result of processing a TransferPrepareAccountAllocated event.                                                       | x                                    |                        |                                     |              |                        |                |                   |                        |                              |                           |               |           |                     |                     |                        |                      |                      |
| TransferPrepareInvalidPayeeCheckFailed               | Event       | Transfers BC                        | Event representing a failed Payee Participant check validation failure as a result of processing a TransferPrepareAccountAllocated event.                                                       | x                                    |